{{ define "main" }}
<section class="hero">
  <h1>{{ .Site.Params.description }}</h1>
</section>

<nav class="topic-filters">
  <a href="/" class="topic-pill active">All</a>
  {{ range .Site.Taxonomies.tags }}
    {{ $name := .Page.Title }}
    <a href="{{ .Page.Permalink }}" class="topic-pill">{{ $name }}</a>
  {{ end }}
</nav>

<section class="posts-list">
  {{ $paginator := .Paginate (where .Site.RegularPages "Section" "posts") }}
  {{ range $paginator.Pages }}
  <article class="post-preview">
    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
    <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
    {{ with .Params.subtitle }}<p class="subtitle">{{ . }}</p>{{ end }}
    <p class="excerpt">{{ .Summary }}</p>
    <a href="{{ .Permalink }}" class="read-more">Continue reading &rarr;</a>
  </article>
  {{ end }}

  {{ if gt $paginator.TotalPages 1 }}
  <nav class="pagination">
    {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="prev">&larr; Newer</a>
    {{ end }}
    <span class="page-number">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
    {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="next">Older &rarr;</a>
    {{ end }}
  </nav>
  {{ end }}
</section>
{{ end }}
